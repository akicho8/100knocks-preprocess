require "./setup"

columns = [:id, :sales_ymd, :customer_id, :product_cd, :amount]
_ Receipt.select(columns)
  .where(customer_id: "CS018205000001")
  .where.not(product_cd: "P071401019")
# >>   Receipt Load (53.8ms)  SELECT `receipts`.`id`, `receipts`.`sales_ymd`, `receipts`.`customer_id`, `receipts`.`product_cd`, `receipts`.`amount` FROM `receipts` WHERE `receipts`.`customer_id` = 'CS018205000001' AND `receipts`.`product_cd` != 'P071401019'
# >> |-------+-----------+----------------+------------+--------|
# >> | id    | sales_ymd | customer_id    | product_cd | amount |
# >> |-------+-----------+----------------+------------+--------|
# >> |    37 |  20180911 | CS018205000001 | P071401012 |   2200 |
# >> |  9844 |  20180414 | CS018205000001 | P060104007 |    600 |
# >> | 21111 |  20170614 | CS018205000001 | P050206001 |    990 |
# >> | 27674 |  20170614 | CS018205000001 | P060702015 |    108 |
# >> | 27841 |  20190216 | CS018205000001 | P071005024 |    102 |
# >> | 28758 |  20180414 | CS018205000001 | P071101002 |    278 |
# >> | 39257 |  20190226 | CS018205000001 | P070902035 |    168 |
# >> | 58122 |  20190924 | CS018205000001 | P060805001 |    495 |
# >> | 68118 |  20190226 | CS018205000001 | P071401020 |   2200 |
# >> | 72255 |  20180911 | CS018205000001 | P071401005 |   1100 |
# >> | 88509 |  20190216 | CS018205000001 | P040101002 |    218 |
# >> | 91526 |  20190924 | CS018205000001 | P091503001 |    280 |
# >> |-------+-----------+----------------+------------+--------|
